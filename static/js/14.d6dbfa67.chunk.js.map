{"version":3,"sources":["components/htmlStringGenerator/htmlStrPartylist.js","components/partyList/Partylist.js"],"names":["htmlStrPartylist","detail","partyname","brokername","map","data","index","e","Date","orderDate","getDate","getMonth","getFullYear","itemName","orderNo","orderQuantity","orderRate","supplyQuantity","balanceQuantity","HotpinkRadio","withStyles","root","color","pink","checked","props","Radio","Partylist","useSnackbar","enqueueSnackbar","closeSnackbar","useState","partyName","setPartyName","uniquepartyName","setUniquepartyName","OYN","setOYN","parties","setParties","partyState","setpartyObject","redirectFlag","setRedirectFlag","redirectComp","setRedirectComp","search","setSearch","sub1","setSub1","sub2","setSub2","sub3","setSub3","selectedValue","setSelectedValue","setRoot","dateToStr","useEffect","date","localStorage","getItem","substring","JSON","parse","resArr","forEach","item","findIndex","x","_id","brokerName","push","handleRadioChange","event","target","value","className","style","height","minHeight","Container","fontWeight","for","id","type","width","onChange","toString","toLowerCase","name","inputProps","filter","i","includes","party","Row","Button","onClick","broker","history","to","handleClickDetailALL","size","str","anchorOrigin","vertical","horizontal","variant","UserService","pythonPDFSerivce","then","res","pdfBlob","Blob","saveAs","catch","error","resMessage","response","message","console","log","createAndDownloadPDFALL","Table","responsive","a","key","handleClickDetail","createAndDownloadPDF"],"mappings":"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","file":"static/js/14.d6dbfa67.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction dateToStr(e) {\r\n  return e?.getDate() + \"/\" + e?.getMonth() + \"/\" + e?.getFullYear()\r\n}\r\n\r\nexport default function htmlStrPartylist(detail, partyname, brokername) {\r\n  return (\r\n    `\r\n                    <style>\r\n                     html,\r\n                     body {\r\n                       margin: 0px;\r\n                       padding: 5px;\r\n                     }\r\n                     table {\r\n                       width: 100%;\r\n                     }\r\n                     table tbody tr td {\r\n                       text-align: center;\r\n                       vertical-align: top;\r\n                       padding-top: 5px;\r\n                       padding-bottom: 5px;\r\n                       font-size: 10px;\r\n                     }\r\n                     table tbody tr:nth-child(odd) {\r\n                       background-color: #f0f0f0;\r\n                     }\r\n\r\n                     .heading{\r\n                      background-color: #212529 !important;\r\n                      color: white;\r\n                     }\r\n                   </style>\r\n                   <body>\r\n\r\n                   <div>\r\n                   <center>\r\n                                        <h1>ASHIMA FABRICS</h1>\r\n                                        <h6>\r\n                                          PLOT NO. 1 TO 4 JAY AMBEY ESTATE AT.DELAD(SAYAN).\r\n                                          TAL.OLPAD.DIST:SURAT.\r\n                                        </h6>\r\n                                        <h6>\r\n                                          PARTYWISE CHALLAN BASE PARTICULAR COMPANY [ SALES BOOKING ] SUMMARY\r\n                                        </h6>\r\n                                      </center>\r\n                                  </div>\r\n                                   <div>\r\n                                       <table cellpadding=\"0\" cellspacing=\"0\">\r\n                                     <tr>\r\n                                       <td colspan=\"2\">\r\n                                         <table>\r\n                                           <tr>\r\n                                             <td>\r\n                                               <h3><b>Party : ${partyname}</b></h3>\r\n                                             </td>\r\n                                             <td>\r\n                                               <h3><b>Broker : ${brokername}</b></h3>\r\n                                             </td>\r\n                                           </tr>\r\n                                         </table>\r\n                                       </td>\r\n                                     </tr>\r\n                                   </table>\r\n                                           </div>\r\n                                           <table border=\"0\">\r\n                                              <tr class = \"heading\">\r\n                                              <td>#</td>\r\n                                              <td>Order Date</td>\r\n                                              <td>Q Code</td>\r\n                                              <td>Ord. No</td>\r\n                                              <td>Ord. Quantity</td>\r\n                                              <td>Ord. Rate</td>\r\n                                              <td>Supply Quan.</td>\r\n                                              <td>Balance Quan</td>\r\n                                              </tr>\r\n                     <tbody>\r\n                     ${detail && detail.map((data, index) => (\r\n      ` <tr key=${index} >\r\n                         <td>${index + 1}</td>\r\n                         <td> ${ dateToStr(new Date(data.orderDate))}</td >\r\n                         <td>${data.itemName}</td>\r\n                         <td>${data.orderNo}</td>\r\n                         <td>${data.orderQuantity}</td>\r\n                         <td>${data.orderRate}</td>\r\n                         <td>${data.supplyQuantity}</td>\r\n                         <td><b>${data.balanceQuantity}</b></td>\r\n                           </tr >`\r\n    ))\r\n    }\r\n                     </tbody>\r\n                   </table>\r\n                   </body>`\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Table,\r\n  Button,\r\n  Container, Row\r\n} from \"reactstrap\";\r\n// import Partydetail from '../partyDetail/Partydetail';\r\nimport UserService from \"../../services/user.service\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport htmlStrPartylist from '../htmlStringGenerator/htmlStrPartylist';\r\nimport { saveAs } from 'file-saver';\r\nimport { useSnackbar } from 'notistack';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { pink } from '@material-ui/core/colors';\r\n\r\nconst HotpinkRadio = withStyles({\r\n  root: {\r\n    color: pink[400],\r\n    '&$checked': {\r\n      color: pink[600],\r\n    },\r\n  },\r\n  checked: {},\r\n})((props) => <Radio color=\"default\" {...props} />);\r\n\r\nfunction Partylist(props) {\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n  const [partyName, setPartyName] = useState();\r\n  const [uniquepartyName, setUniquepartyName] = useState();\r\n  const [OYN, setOYN] = useState(\"N\");\r\n  const [parties, setParties] = useState();\r\n  const [partyObject, setpartyObject] = props.partyState;\r\n  // const [redi, setredire] = useState(null);\r\n  const [redirectFlag, setRedirectFlag] = useState(false);\r\n  const [redirectComp, setRedirectComp] = useState(null);\r\n  // const [OYNTrue, setOYNTrue] = useState(false);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [sub1, setSub1] = useState();\r\n  const [sub2, setSub2] = useState();\r\n  const [sub3, setSub3] = useState();\r\n  const [selectedValue, setSelectedValue] = useState('pending');\r\n  const [root, setRoot] = useState(false);\r\n\r\n\r\n  const handleClickDetail = (e, party, broker) => {\r\n    // console.log(party, broker)\r\n    props.history.push('/partylist');\r\n    setpartyObject({ party, broker, OYN });\r\n    setRedirectComp(<Redirect to={\"/partydetail\"} />);\r\n    setRedirectFlag(true);\r\n    // window.location.reload();\r\n  };\r\n\r\n  const handleClickDetailALL = (e, party, broker) => {\r\n    // console.log(party, broker)\r\n    props.history.push('/partylist');\r\n    setpartyObject({ party, broker });\r\n    setRedirectComp(<Redirect to={\"/partydetail\"} />);\r\n    setRedirectFlag(true);\r\n    // window.location.reload();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const date = localStorage.getItem('date');\r\n    setSub1(date.substring(6, 8));\r\n    setSub2(date.substring(8, 10));\r\n    setSub3(date.substring(10, 12));\r\n\r\n    setPartyName(JSON.parse(localStorage.getItem(\"partyName\")))\r\n\r\n    let resArr = [];\r\n    let temp = JSON.parse(localStorage.getItem(\"partyName\"));\r\n    temp.forEach(function (item) {\r\n      let i = resArr.findIndex(x => ((x._id.partyName == item._id.partyName) && (x._id.brokerName == item._id.brokerName)));\r\n      // let j = resArr.findIndex(x => x._id.brokerName == item._id.brokerName);\r\n      if (i <= -1) {\r\n        resArr.push({ _id: { partyName: item._id.partyName, brokerName: item._id.brokerName } });\r\n      }\r\n      return null;\r\n    });\r\n    setUniquepartyName(resArr)\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setParties(JSON.parse(localStorage.getItem(\"parties\")));\r\n  }, []);\r\n\r\n  function createAndDownloadPDF(partyName, brokerName) {\r\n    const postRequestData = parties.filter(e => (e.partyName === partyName && e.brokerName === brokerName && e.OYN === OYN));\r\n    // console.log(postRequestData);\r\n    const str = htmlStrPartylist(postRequestData, partyName, brokerName);\r\n    enqueueSnackbar(\"PDF Generation in progress...\", {\r\n      anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'left',\r\n      },\r\n      variant: 'success',\r\n    });\r\n    UserService.pythonPDFSerivce({ data: str })\r\n      .then((res) => {\r\n        // console.log(\"success\", res.data);\r\n        const pdfBlob = new Blob([res.data], { type: 'application/pdf' });\r\n        saveAs(pdfBlob, 'new.pdf');\r\n        closeSnackbar();\r\n      })\r\n      .catch((error) => {\r\n        const resMessage =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString();\r\n\r\n        enqueueSnackbar(resMessage, {\r\n          anchorOrigin: {\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n          },\r\n          variant: 'error',\r\n        });\r\n        console.log(error);\r\n      }\r\n      )\r\n  }\r\n\r\n  function createAndDownloadPDFALL(partyName, brokerName) {\r\n    const postRequestData = parties.filter(e => (e.partyName === partyName && e.brokerName === brokerName));\r\n    // console.log(postRequestData);\r\n    const str = htmlStrPartylist(postRequestData, partyName, brokerName);\r\n    enqueueSnackbar(\"PDF Generation in progress...\", {\r\n      anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'left',\r\n      },\r\n      variant: 'success',\r\n    });\r\n    UserService.pythonPDFSerivce({ data: str })\r\n      .then((res) => {\r\n        // console.log(\"success\", res.data);\r\n        const pdfBlob = new Blob([res.data], { type: 'application/pdf' });\r\n        saveAs(pdfBlob, 'new.pdf');\r\n        closeSnackbar();\r\n      })\r\n      .catch((error) => {\r\n        const resMessage =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString();\r\n\r\n        enqueueSnackbar(resMessage, {\r\n          anchorOrigin: {\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n          },\r\n          variant: 'error',\r\n        });\r\n        console.log(error);\r\n      }\r\n      )\r\n  }\r\n\r\n  function dateToStr(e) {\r\n    return e?.getDate() + \"/\" + (e?.getMonth() + 1) + \"/\" + e?.getFullYear()\r\n  }\r\n\r\n  // const handleChange = (event) => {\r\n  //   setOYNTrue(event.target.checked);\r\n  //   setOYN(event.target.checked ? 'Y' : 'N')\r\n  // };\r\n\r\n  const handleRadioChange = (event) => {\r\n    setSelectedValue(event.target.value);\r\n    if (event.target.value === 'all') {\r\n      setRoot(true);\r\n    } else if (event.target.value === 'pending') {\r\n      setRoot(false);\r\n      setOYN('N');\r\n    } else if (event.target.value === 'completed') {\r\n      setRoot(false);\r\n      setOYN('Y');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {redirectFlag && redirectComp}\r\n      <div className=\"profile-page\">\r\n        <div className=\"wrapper\" >\r\n          <div style={{ height: \"150px\" }}>\r\n          </div>\r\n          <div style={{ minHeight: \"calc(100vh - 150px)\" }}>\r\n            <Container>\r\n              <div style={{ color: \"white\", fontWeight: \"bold\" }} >\r\n                Backup : {sub1}-{sub2}-{sub3}\r\n              </div>\r\n              <div className=\"pt-5\">\r\n                <label for=\"search\" style={{ fontWeight: \"bold\", color: \"white\" }}>Search : </label>\r\n                <input id=\"search\" type=\"text\" style={{ width: \"100%\" }} onChange={e => setSearch(e.target.value.toString().toLowerCase())} />\r\n              </div>\r\n              <div style={{ color: \"white\", fontWeight: \"bold\" }} className=\"pt-5\">\r\n                All :\r\n                <HotpinkRadio\r\n                  checked={selectedValue === 'all'}\r\n                  onChange={handleRadioChange}\r\n                  value=\"all\"\r\n                  color=\"primary\"\r\n                  name=\"radio-button-demo\"\r\n                  inputProps={{ 'aria-label': 'All' }}\r\n                />\r\n                Pending :\r\n                <HotpinkRadio\r\n                  checked={selectedValue === 'pending'}\r\n                  onChange={handleRadioChange}\r\n                  value=\"pending\"\r\n                  color=\"primary\"\r\n                  name=\"radio-button-demo\"\r\n                  inputProps={{ 'aria-label': 'pending' }}\r\n                />\r\n                Completed :\r\n                <HotpinkRadio\r\n                  checked={selectedValue === 'completed'}\r\n                  onChange={handleRadioChange}\r\n                  value=\"completed\"\r\n                  color=\"primary\"\r\n                  name=\"radio-button-demo\"\r\n                  inputProps={{ 'aria-label': 'Completed' }}\r\n                />\r\n              </div>\r\n              {/* <div style={{ color: \"white\", fontWeight: \"bold\" }} className=\"pt-5\">\r\n                {OYNTrue ? \"Completed\" : \"Pending\"}\r\n\r\n                <Switch\r\n                  // checked={state.checkedA}\r\n                  onChange={handleChange}\r\n                  name=\"checkedA\"\r\n                  inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                />\r\n              </div> */}\r\n              {root ? (uniquepartyName && uniquepartyName.filter((e, i) => (e._id.partyName?.toString().toLowerCase().includes(search))).map((party, index) => (\r\n                <div className=\"pt-5\" id=\"pdfdiv\">\r\n                  <div>\r\n                    <Row>\r\n                      <h4><b style={{ color: 'hotpink' }}> PARTY: </b>{party._id.partyName} <br /> <b style={{ color: 'hotpink' }}>BROKER: </b>{party._id.brokerName}</h4>\r\n                      <Button className=\"btn-icon ml-auto\" onClick={e => handleClickDetailALL(e, party._id.partyName, party._id.brokerName)} color=\"info\" size=\"sm\">\r\n                        <i className=\"fa fa-user\"></i>\r\n                      </Button>{` `}\r\n                      <Button className=\"btn-icon ml-5\" onClick={e => createAndDownloadPDFALL(party._id.partyName, party._id.brokerName)} color=\"info\" size=\"sm\">\r\n                        <i className=\"tim-icons icon-paper\"></i>\r\n                      </Button>{` `}\r\n                    </Row>\r\n                  </div>\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>#</th>\r\n                        <th className=\"text-center\">Order Date</th>\r\n                        <th className=\"text-center\">Q Code</th>\r\n                        <th className=\"text-center\">Ord. No</th>\r\n                        <th className=\"text-center\">Ord. Quantity</th>\r\n                        <th className=\"text-center\">Ord. Rate</th>\r\n                        <th className=\"text-center\">Supply Quan.</th>\r\n                        <th className=\"text-center\">Balance Quan</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {parties && parties.map((a, key) => {\r\n                        if (a.partyName === party._id.partyName && a.brokerName === party._id.brokerName) {\r\n                          return (\r\n                            <tr key={key}>\r\n                              <td className=\"text-center\">{key}</td>\r\n                              <td className=\"text-center\">{dateToStr(new Date(a.orderDate))}</td>\r\n                              <td className=\"text-center\">{a.itemName}</td>\r\n                              <td className=\"text-center\">{a.orderNo}</td>\r\n                              <td className=\"text-center\">{a.orderQuantity}</td>\r\n                              <td className=\"text-center\">{a.orderRate}</td>\r\n                              <td className=\"text-center\">{a.supplyQuantity}</td>\r\n                              <td className=\"text-center\">{a.balanceQuantity}</td>\r\n                            </tr>\r\n                          )\r\n                        }\r\n                      })}\r\n                    </tbody>\r\n                  </Table>\r\n                </div>\r\n              ))) : (partyName && partyName.filter((e, i) => (e._id.partyName?.toString().toLowerCase().includes(search))).filter((e, i) => (e._id.OYN === OYN)).map((party, index) => (\r\n                <div className=\"pt-5\" id=\"pdfdiv\">\r\n                  <div>\r\n                    <Row>\r\n                      <h4><b style={{ color: 'hotpink' }}> PARTY: </b>{party._id.partyName} <br /> <b style={{ color: 'hotpink' }}>BROKER: </b>{party._id.brokerName}</h4>\r\n                      <Button className=\"btn-icon ml-auto\" onClick={e => handleClickDetail(e, party._id.partyName, party._id.brokerName)} color=\"info\" size=\"sm\">\r\n                        <i className=\"fa fa-user\"></i>\r\n                      </Button>{` `}\r\n                      <Button className=\"btn-icon ml-5\" onClick={e => createAndDownloadPDF(party._id.partyName, party._id.brokerName)} color=\"info\" size=\"sm\">\r\n                        <i className=\"tim-icons icon-paper\"></i>\r\n                      </Button>{` `}\r\n                    </Row>\r\n                  </div>\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>#</th>\r\n                        <th className=\"text-center\">Order Date</th>\r\n                        <th className=\"text-center\">Q Code</th>\r\n                        <th className=\"text-center\">Ord. No</th>\r\n                        <th className=\"text-center\">Ord. Quantity</th>\r\n                        <th className=\"text-center\">Ord. Rate</th>\r\n                        <th className=\"text-center\">Supply Quan.</th>\r\n                        <th className=\"text-center\">Balance Quan</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {parties && parties.filter((e, i) => (e.OYN === OYN)).map((a, key) => {\r\n                        if (a.partyName === party._id.partyName && a.brokerName === party._id.brokerName) {\r\n                          return (\r\n                            <tr key={key}>\r\n                              <td className=\"text-center\">{key}</td>\r\n                              <td className=\"text-center\">{dateToStr(new Date(a.orderDate))}</td>\r\n                              <td className=\"text-center\">{a.itemName}</td>\r\n                              <td className=\"text-center\">{a.orderNo}</td>\r\n                              <td className=\"text-center\">{a.orderQuantity}</td>\r\n                              <td className=\"text-center\">{a.orderRate}</td>\r\n                              <td className=\"text-center\">{a.supplyQuantity}</td>\r\n                              <td className=\"text-center\">{a.balanceQuantity}</td>\r\n                            </tr>\r\n                          )\r\n                        }\r\n                      })}\r\n                    </tbody>\r\n                  </Table>\r\n                </div>\r\n              )))}\r\n            </Container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Partylist;"],"sourceRoot":""}